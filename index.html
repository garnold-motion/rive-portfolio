<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Elite Speakers</title>

    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

    <style>
      body { background-color: #151818; margin: 0; padding: 0; overflow-x: hidden; font-family: 'Poppins', sans-serif; }

      .logo-box {
        width: 300px;
        display: flex;
        align-items: center;
        gap: 0;
        padding: 20px 0 10px 40px;
        z-index: 10;
        position: relative;
      }

      .hero-container { 
          position: relative; 
          width: 100%; 
          height: 100vh; 
          max-height: 600px; 
          min-height: 500px; 
          overflow: hidden;
      }

      canvas { width: 100%; height: 100%; display: block; }

      .is-hovering-button {
          cursor: pointer !important;
      }

      #logo-canvas, #logo-canvas-2 { height: auto; }

      /* Desktop Style */
      .hero-content {
          position: absolute;
          top: 50%;
          left: 10%;
          transform: translateY(-50%);
          max-width: 450px;
          z-index: 5;
          color: white;
          pointer-events: none; /* Changed to none so mouse clicks 'fall through' to the Rive button */
          transition: all 0.4s ease;
      }

      .hero-content h1 {
          font-family: 'DM Serif Display', serif;
          font-size: 65px;
          margin: 0 0 15px 0;
          line-height: 1.1;
      }

      .hero-content p {
          font-size: 25px;
          font-weight: 600;
          margin: 0;
          line-height: 1.4;
          opacity: 0.9;
      }

      /* Portrait Style */
      .portrait-mode .hero-content {
          top: 10%; 
          left: 50%; 
          transform: translateX(-50%); 
          text-align: center; 
          max-width: 90%; 
      }
      .portrait-mode .hero-content h1 { font-size: 32px; }
      .portrait-mode .hero-content p { font-size: 16px; }

      .white-spacer {
          height: 100vh;
          background-color: #ffffff;
          width: 100%;
      }
    </style>
</head>

<body>
    <div class="logo-box">
      <canvas id="logo-canvas"></canvas>
    </div>

    <div class="hero-container" id="main-hero">
      <canvas id="hero-canvas-1"></canvas> 
      <div class="hero-content">
          <h1>Welcome to Elite Speakers</h1>
          <p>Connecting you with Australiaâ€™s best speakers, hosts and entertainers.</p>
      </div>
    </div>
    
    <div class="white-spacer"></div>

    <script src="https://unpkg.com/@rive-app/canvas"></script>

    <script>
      // Define the canvas element for the hero
      const heroCanvas = document.getElementById("hero-canvas-1");

      // Logo 1
      const logo = new rive.Rive({
        src: "elite_speakers_logo_gold_v1.riv",
        canvas: document.getElementById("logo-canvas"),
        autoBind: true,
        autoplay: true,
        stateMachines: "State Machine 1",
        layout: new rive.Layout({ alignment: rive.Alignment.TopLeft }),
        onLoad: () => { logo.resizeDrawingSurfaceToCanvas(); },
      });

      const hero_1 = new rive.Rive({
        src: "elite_speakers_hero_v1.riv",
        canvas: heroCanvas,
        artboard: "Artboard",
        layout: new rive.Layout({
          fit: rive.Fit.Layout,
          alignment: rive.Alignment.TopLeft,
        }),
        autoBind: true,
        autoplay: true,
        stateMachines: "State Machine 1",
        onLoad: () => {
          hero_1.resizeDrawingSurfaceToCanvas();
          
          const vmi = hero_1.viewModelInstance;
          if (vmi) {
            const randomStart = Math.floor(Math.random() * 10) + 1;
            vmi.number("speaker").value = randomStart;
          }
        },
      });
    

      hero_1.on('riveevent', (event) => {
        console.log("Rive Event Received:", event.data.name);

        // Navigation
        if (event.data.name === "clicked") {
          console.log("Redirecting...");
          window.location.href = "https://elitespeakers.com.au/elite-speakers-search/";
        }

        // Pointer Toggle
        if (event.data.name === "buttonHover") {
          heroCanvas.classList.add("is-hovering-button");
        } 
        
        if (event.data.name === "buttonExit") {
          heroCanvas.classList.remove("is-hovering-button");
        }
      });

      function updateLayoutRatio() {
        const container = document.getElementById('main-hero');
        const canvas = document.getElementById('hero-canvas-1');
        if (!canvas || !container) return;
        const ratio = canvas.clientWidth / canvas.clientHeight;
        if (ratio < 1) {
            container.classList.add('portrait-mode');
        } else {
            container.classList.remove('portrait-mode');
        }
      }

      window.addEventListener('resize', () => {
          logo.resizeDrawingSurfaceToCanvas();
          hero_1.resizeDrawingSurfaceToCanvas();
          updateLayoutRatio(); 
      });

      updateLayoutRatio();
      setTimeout(updateLayoutRatio, 200);
    </script>
</body>
</html>