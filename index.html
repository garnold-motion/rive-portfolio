<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Elite Speakers</title>

    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

    <style>
      body { background-color: #1a1a1a; margin: 0; padding: 0; overflow-x: hidden; font-family: 'Poppins', sans-serif; }

      .logo-container { position: relative; padding: 30px 0 30px 30px; width: 300px; z-index: 10; }

      /* Shared class for both containers */
      .hero-container, .hero-container-2 { 
          position: relative; 
          width: 100%; 
          height: 100vh; 
          max-height: 600px; 
          min-height: 500px; 
          overflow: hidden;
          margin-bottom: 50px;
      }

      /* Fixed: Target all canvases properly */
      canvas { width: 100%; height: 100%; display: block; }
      #logo-canvas { height: auto; }

      .hero-content {
          position: absolute;
          top: 50%;
          left: 10%;
          transform: translateY(-50%);
          max-width: 450px;
          z-index: 5;
          color: white;
          pointer-events: auto;
      }

      .hero-content h1 {
          font-family: 'DM Serif Display', serif;
          font-size: 65px;
          margin: 0 0 15px 0;
          line-height: 1.1;
      }

      .hero-content p {
          font-size: 25px;
          font-weight: 600;
          margin: 0;
          line-height: 1.4;
          opacity: 0.9;
      }

      .portrait-mode .hero-content {
          top: 6%; 
          left: 50%; 
          transform: translateX(-50%); 
          text-align: center; 
          max-width: 90%; 
      }

      .portrait-mode .hero-content h1 {
          font-size: 32px; 
      }

      .portrait-mode .hero-content p {
          font-size: 16px;
      }

    </style>
</head>

<body>

    <div class="logo-container">
      <canvas id="logo-canvas"></canvas>
    </div>

    <div class="hero-container">
      <canvas id="hero-canvas-1"></canvas> <div class="hero-content">
          <h1>Welcome to Elite Speakers</h1>
          <p>Connecting you with Australia’s best speakers, hosts and entertainers.</p>
      </div>
    </div>

    <div class="hero-container-2">
      <canvas id="hero-canvas-2"></canvas> <div class="hero-content">
          <h1>Welcome to Elite Speakers</h1>
          <p>Connecting you with Australia’s best speakers, hosts and entertainers.</p>
      </div>
    </div>


    <script src="https://unpkg.com/@rive-app/canvas"></script>

    <script>

      // 1. Init Logo
      const logo = new rive.Rive({
        src: "elite_speakers_logo_v1.riv",
        canvas: document.getElementById("logo-canvas"),
        autoBind: true,
        autoplay: true,
        stateMachines: "State Machine 1",
        layout: new rive.Layout({ alignment: rive.Alignment.TopLeft }),
        onLoad: () => { logo.resizeDrawingSurfaceToCanvas(); },
      });

      // 2. Init Hero 1 (v4)
      const hero_1 = new rive.Rive({
        src: "elite_speakers_hero_v4.riv",
        canvas: document.getElementById("hero-canvas-1"),
        artboard: "Artboard",
        layout: new rive.Layout({
          fit: rive.Fit.Layout,
          alignment: rive.Alignment.TopLeft,
        }),
        autoBind: true,
        autoplay: true,
        stateMachines: "State Machine 1",
        onLoad: () => {
          hero_1.resizeDrawingSurfaceToCanvas();
          const vmi = hero_1.viewModelInstance;
          if (vmi) {
            const randomStart = Math.floor(Math.random() * 6) + 1;
            vmi.number("speaker").value = randomStart;
          }
        },
      });

      // 3. Init Hero 2 (v3)
      const hero_2 = new rive.Rive({
        src: "elite_speakers_hero_v3.riv",
        canvas: document.getElementById("hero-canvas-2"),
        artboard: "Artboard",
        layout: new rive.Layout({
          fit: rive.Fit.Layout,
          alignment: rive.Alignment.TopLeft,
        }),
        autoBind: true,
        autoplay: true,
        stateMachines: "State Machine 1",
        onLoad: () => {
          hero_2.resizeDrawingSurfaceToCanvas(); // Fixed: variable name
          const vmi = hero_2.viewModelInstance;  // Fixed: variable name
          if (vmi) {
            const randomStart = Math.floor(Math.random() * 6) + 1;
            vmi.number("speaker").value = randomStart;
          }
        },
      });

      window.addEventListener('resize', () => {
        logo.resizeDrawingSurfaceToCanvas();
        hero_1.resizeDrawingSurfaceToCanvas();
        hero_2.resizeDrawingSurfaceToCanvas();
      });

      function updateLayoutRatio() {

        const containers = [
            { el: document.querySelector('.hero-container'), canvas: document.getElementById('hero-canvas-1') },
            { el: document.querySelector('.hero-container-2'), canvas: document.getElementById('hero-canvas-2') }
        ];

        containers.forEach(item => {
            if (!item.canvas) return;
            
            const ratio = item.canvas.clientWidth / item.canvas.clientHeight;

            if (ratio < 1) {
              item.el.classList.add('portrait-mode');
            } else {
              item.el.classList.remove('portrait-mode');
            }
        });
      
      }

      // Call it on load and on resize
      window.addEventListener('resize', () => {
          logo.resizeDrawingSurfaceToCanvas();
          hero_1.resizeDrawingSurfaceToCanvas();
          hero_2.resizeDrawingSurfaceToCanvas();
          updateLayoutRatio(); // Sync the text
      });

      // Run once at start
      updateLayoutRatio();

    </script>

    <div style="height: 100vh; background-color: #1a1a1a;"></div>  

</body>
</html>